const g=document.querySelector(".js__charactersList"),u=document.querySelector(".js__favoritesList"),L=document.querySelector(".js__searchCharacter"),m=document.querySelector(".js__searchCharacterInput"),f=document.querySelector(".js__resetFavoritesBtn");let o=[],r=[];function S(e){let t="";return typeof e.imageUrl>"u"&&(e.imageUrl="https://via.placeholder.com/400x500/bbbbbb/ffffff/?text=Disney"),t+=`<li class="character js__characterItem" data-id="${e._id}">
  <button class="character__btn js__deleteItem"><i class="fa-solid fa-xmark"></i></button>
    <div class="character__image-container">
      <img src="${e.imageUrl}" class="character__image alt="Producto: ${e.name}">
    </div>
    <h3 class="character__name">${e.name}</h3>
  </li>`,t}function v(e,t){let a="";for(const c of e)a+=S(c);t.innerHTML=a}function _(){v(o,g)}function i(){v(r,u)}function n(){const e=document.querySelectorAll(".js__characterItem");for(const t of e){const a=parseInt(t.dataset.id);r.find(s=>s._id===a)?t.classList.add("favorite"):t.classList.remove("favorite")}}function y(){const e=JSON.parse(localStorage.getItem("favoritesCharacters"));e===null||(r=e),i()}function h(){localStorage.setItem("favoritesCharacters",JSON.stringify(r))}function j(e){const t=e.currentTarget,a=parseInt(t.dataset.id),c=o.find(d=>d._id===a),s=r.findIndex(d=>d._id===a);s===-1?r.push(c):r.splice(s,1),n(),h(),i(),p(),l()}const F=e=>{e.preventDefault(),fetch(`//api.disneyapi.dev/character?pageSize=50&name=${m.value}`).then(t=>t.json()).then(t=>{o=t.data,_(),C(),n()})};function k(e){const t=e.currentTarget.parentElement,a=parseInt(t.dataset.id),c=r.findIndex(s=>s._id===a);r.splice(c,1),n(),h(),i(),p(),l()}function b(e){e.preventDefault(),n(),r=[],h(),u.innerHTML="",l()}function l(){r.length===0?f.classList.add("hidden"):f.classList.remove("hidden")}L.addEventListener("submit",F);f.addEventListener("click",b);function C(){I(".js__characterItem",j)}function p(){I(".js__deleteItem",k)}function I(e,t){const a=document.querySelectorAll(e);for(const c of a)c.addEventListener("click",t)}const q=()=>{fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{o=e.data,_(),C(),n()})};y();q();l();m.value="";
//# sourceMappingURL=main.js.map
