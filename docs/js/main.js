const g=document.querySelector(".js__charactersList"),u=document.querySelector(".js__favoritesList"),y=document.querySelector(".js__searchCharacter"),m=document.querySelector(".js__searchCharacterInput"),f=document.querySelector(".js__resetFavoritesBtn");let n=[],r=[];function L(e){let t="";return typeof e.imageUrl>"u"&&(e.imageUrl="https://via.placeholder.com/400x500/bbbbbb/ffffff/?text=Disney"),t+=`<li class="character js__characterItem" data-id="${e._id}">
  <button class="character__btn js__deleteItem"><i class="fa-solid fa-xmark"></i></button>
    <div class="character__image-container">
      <img src="${e.imageUrl}" class="character__image alt="Producto: ${e.name}">
    </div>
    <h3 class="character__name">${e.name}</h3>
  </li>`,t}function v(e,t){let a="";for(const c of e)a+=L(c);t.innerHTML=a}function _(){v(n,g)}function o(){v(r,u)}function i(){const e=document.querySelectorAll(".js__characterItem");for(const t of e){const a=parseInt(t.dataset.id);r.find(s=>s._id===a)?t.classList.add("favorite"):t.classList.remove("favorite")}}function S(){const e=JSON.parse(localStorage.getItem("favoritesCharacters"));e===null||(r=e),o()}function h(){localStorage.setItem("favoritesCharacters",JSON.stringify(r))}function j(e){const t=e.currentTarget,a=parseInt(t.dataset.id),c=n.find(d=>d._id===a),s=r.findIndex(d=>d._id===a);s===-1?r.push(c):r.splice(s,1),i(),h(),o(),p(),l()}const k=e=>{e.preventDefault(),fetch(`//api.disneyapi.dev/character?pageSize=50&name=${m.value}`).then(t=>t.json()).then(t=>{Array.isArray(t.data)?n=t.data:n=[t.data],_(),C(),i()})};function F(e){const t=e.currentTarget.parentElement,a=parseInt(t.dataset.id),c=r.findIndex(s=>s._id===a);r.splice(c,1),h(),o(),p(),i(),l()}function b(e){e.preventDefault(),r=[],h(),i(),u.innerHTML="",l()}function l(){r.length===0?f.classList.add("hidden"):f.classList.remove("hidden")}function q(){m.value=""}y.addEventListener("submit",k);f.addEventListener("click",b);function C(){I(".js__characterItem",j)}function p(){I(".js__deleteItem",F)}function I(e,t){const a=document.querySelectorAll(e);for(const c of a)c.addEventListener("click",t)}const x=()=>{fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{n=e.data,_(),C(),i()})};S();x();l();q();
//# sourceMappingURL=main.js.map
